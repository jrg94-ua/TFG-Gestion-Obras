@using Microsoft.AspNetCore.Components.Authorization

<div class="top-row ps-3 navbar navbar-dark">
    <div class="container-fluid">
        <a class="navbar-brand" href="">🏗️ Gestión Obras</a>
    </div>
</div>

<input type="checkbox" title="Navigation menu" class="navbar-toggler" />

<div class="nav-scrollable" onclick="document.querySelector('.navbar-toggler').click()">
    <nav class="nav flex-column">
        <div class="nav-item px-3">
            <NavLink class="nav-link" href="" Match="NavLinkMatch.All">
                <span class="bi bi-speedometer2-nav-menu" aria-hidden="true"></span> Dashboard
            </NavLink>
        </div>

        <!-- Proyectos - Todos los roles -->
        <div class="nav-item px-3">
            <NavLink class="nav-link" href="proyectos">
                <span class="bi bi-building-nav-menu" aria-hidden="true"></span> Proyectos
            </NavLink>
        </div>

        <!-- Tablero de Proyectos - Solo Admin -->
        <AuthorizeView Roles="Administrador">
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="admin/tablero-proyectos">
                    <span class="bi bi-grid-3x3-nav-menu" aria-hidden="true"></span> Tablero Proyectos
                </NavLink>
            </div>
        </AuthorizeView>

        <!-- Mi Tablero Personal - JefeObra y Operarios -->
        <AuthorizeView Roles="JefeObra,Operario,OperarioObra,OperarioOficinaT">
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="mi-tablero">
                    <span class="bi bi-kanban-nav-menu" aria-hidden="true"></span> Mi Tablero
                </NavLink>
            </div>
        </AuthorizeView>

        <!-- Empleados - Admin y JefeObra -->
        <AuthorizeView Roles="Administrador,JefeObra">
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="empleados">
                    <span class="bi bi-people-nav-menu" aria-hidden="true"></span> Empleados
                </NavLink>
            </div>
        </AuthorizeView>

        <!-- Materiales - Todos -->
        <div class="nav-item px-3">
            <NavLink class="nav-link" href="materiales">
                <span class="bi bi-box-seam-nav-menu" aria-hidden="true"></span> Materiales
            </NavLink>
        </div>

        <!-- Solicitar Materiales - Solo JefeObra -->
        <AuthorizeView Roles="JefeObra">
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="jefe-obra/solicitar-materiales">
                    <span class="bi bi-cart-plus-nav-menu" aria-hidden="true"></span> Solicitar Materiales
                </NavLink>
            </div>
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="jefe-obra/mis-solicitudes-materiales">
                    <span class="bi bi-list-check-nav-menu" aria-hidden="true"></span> Mis Solicitudes
                </NavLink>
            </div>
        </AuthorizeView>

        <!-- Gestión Solicitudes - Solo Admin -->
        <AuthorizeView Roles="Administrador">
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="admin/solicitudes-materiales">
                    <span class="bi bi-clipboard-check-nav-menu" aria-hidden="true"></span> Solicitudes Materiales
                </NavLink>
            </div>
        </AuthorizeView>

        <!-- Facturas - Admin y OficinaTecnica -->
        <AuthorizeView Roles="Administrador,OficinaTecnica">
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="facturas">
                    <span class="bi bi-receipt-nav-menu" aria-hidden="true"></span> Facturas
                </NavLink>
            </div>
        </AuthorizeView>

        <!-- Presupuestos - Admin y OficinaTecnica -->
        <AuthorizeView Roles="Administrador,OficinaTecnica">
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="presupuestos">
                    <span class="bi bi-calculator-nav-menu" aria-hidden="true"></span> Presupuestos
                </NavLink>
            </div>
        </AuthorizeView>

        <!-- Usuarios - Solo Admin -->
        <AuthorizeView Roles="Administrador">
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="admin/usuarios">
                    <span class="bi bi-person-gear-nav-menu" aria-hidden="true"></span> Usuarios
                </NavLink>
            </div>
        </AuthorizeView>
    </nav>
</div>

